# Bouwen

Dit hoofdstuk beschrijft het bouwen: De ontwikkeling van modellen en inrichten van de experimenteeromgeving. 

<figure>
<img src="../images/bouwen.png" alt="visuele weergave van de paragraven die men kan verwachten in dit hoofdstuk">
<figcaption>De vragen bij het bouwen</caption>
</figure>


## Het experiment

Een deel van het ontworpen proces is gekozen als basis voor het experiment. Het experiment bouwt een revisiedataset op uit een NLCS-revisietekening en doet automatische controles. Controle door vakinhoudelijk specialist op de revisiedataset is buiten scope van de experimenteerruimte.
Het experiment bestaat uit twee delen: 

1. Eén uitgevoerd door CROW, met open standaarden en open source scripts waardoor het bruikbaar is voor andere gemeenten. Richt zich op controle van objectinformatie (IMBOR-beheerdata) en transformatie tussen NLCS en IMBOR met behulp van de aansluiting tussen beide standaarden (ontology alignment).

2. Een tweede uitgevoerd door Utrecht, om te detecteren of het beoogde proces kan kan worden ingericht voor productie, met focus op werken met leveringen van CAD-revisietekeningen

<style>
    /* stijl 2: beheer-tabel */
    table.beheer-tabel {
        border-collapse: collapse;
        width: 100%;
    }

    table.beheer-tabel td {
        border: 1px solid #bbb; /* dunne grijze lijnen */
        padding: 6px;
        text-align: left;
    }

    /* eerste rij crow-blauw */
    table.beheer-tabel tr:first-child td {
        background-color: #004080; /* crow-blauw */
        color: white;
        font-weight: bold;
    }
</style>

<table class="beheer-tabel">
    <tr>
        <td>Stap &rarr;  <!-- → --></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
    <td>Uitvoering<br>&darr;   <!-- ↓ --></td>
    <td></td>
    <td><b>Bestaande assetinformatie</b></td>
    <td></td>
    <td><b>Revisiedataset</b></td>
    <td></td>
    <td><b>Mutaties</b></td>
    </tr>
    <tr>
        <td>CROW</td>
        <td>&rarr;  <!-- → --></td>
        <td>1.Objectinformatie uit assetinformatiesysteem in rdf <br> 2. projecttekening in open geo-formaat 
        <td>&rarr;  <!-- → --></td>
        <td>Rioleringsrevisietekening van het projectgebied in open gis-formaat  
</td>
        <td>&rarr;  <!-- → --></td>
        <td>Lijst met mutaties voor het assetinformatiesysteem</td>
    </tr>
    <tr><td></td></tr>
        <tr>
        <td>Gemeente Utrecht</td>
        <td>&rarr;  <!-- → --></td>
        <td>Moedertekening & tekening projectgebied: 1 straat met enkele leidingen en putten. </td>
        <td>&rarr;  <!-- → --></td>
        <td>Revisietekening projectgebied & automatische controles op de revisietekening</td>
        <td>&rarr;  <!-- → --></td>
        <td>Mutaties voor de moedertekening</td>
    </tr>
</table>


### Stap 1. Aanleveren beheerinformatie

<table class="proces-tabel">
    <tr>
        <td>Inkomende informatie</td>
        <td></td>
        <td class="col-3-white">Processtap</td>
        <td></td>
        <td>Uitgaande informatie</td>
        <td>Rol</td>
        <td>Doel</td>
    </tr>
    <tr>
        <td>Assetinformatie van de beheerder op basis van IMBOR + grenzen projectgebied</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-blue">Aanleveren beheerinformatie</td>
        <td>&rarr;  <!-- → --></td>
        <td>NLCS-tekening van het rioleringgstelsel van het projectgebied met objectinformatie van beheerder</td>
        <td>B</td>
        <td>Bestaande situatie voor ontwerp <br></td>
    </tr>
</table>

#### Controle assetinformatie op IMBOR
Gemeente Utrecht heeft voor het experiment [deze dataset](https://github.com/Stichting-CROW/use-cases-door/blob/main/experimenten/utrecht/riolering-productie-nieuw.ttl) gehaald uit het centrale assetinformatiesysteem. De objecten hebben een geometrie hebben in geojson en een objectenpaspoort met informatie op basis van IMBOR, uitgedrukt in rdf.

Deze dataset in uitgedrukt in IMBOR 2022.

Deze dataset is tijdens het experiment gevalideerd op IMBOR 2022. Hiervoor heeft CROW een CROW Datavalidator in ontwikkeling, die op basis van een informatiemodel zoals IMBOR, of een specifieke dataspecificatie bovenop een informatiemodel, checkt of de geleverde gegevens voldoen aan de eis.


In het IMBOR model moet sommige informatie verplicht worden aangeleverd, maar lang niet alles. 

** bevindingen: ....
Zie het validatierapport(....) voor alle bevindingen.

Behoefte gemeente Utrecht: Een export van een projectgebied kunnen halen uit je assetinformatiesysteem.<br><br>
**Conclusie** niet iedere gemeente zou dit voor zich moeten ontwikkelen met de softwareleverancier. Er zou een generieke oplossing moeten komen.

#### Conversie assetinformatie naar NLCS tekening
Het projectteam kan niet overweg met assetinformatie in rdf, maar heeft een NLCS-tekening nodig van de bestaande situatie.

DOOR ontwikkelt de alignment van IMBOR naar de NLCS. De vraag is of deze alignment de basis kan zijn voor een automatische conversie van de assetinformatie naar de NLCS-tekening van de bestaande situatie. 


### Stap 2 en 3 Ontwerpen en Uitwerken contract

<table class="proces-tabel">
    <tr>
        <td>Inkomende informatie</td>
        <td></td>
        <td class="col-3-white">Processtap</td>
        <td></td>
        <td>Uitgaande informatie</td>
        <td>Rol</td>
        <td>Doel</td>
    </tr>
    <tr>
        <td>Moedertekening van beheerder op gedeelde netwerkschijf</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-black">Ontwerpen</td>
        <td>&rarr;  <!-- → --></td>
        <td>Ontwerptekening projectgebied met deel bestaande situatie uit moedertekening</td>
        <td>S</td>
        <td>Ontwerp nieuwe situatie</td>
    </tr>
        <tr>
        <td>Ontwerptekening</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-black">Uitwerken contract</td>
        <td>&rarr;  <!-- → --></td>
        <td>Bestekstekening in combinatie met bestek, informatieleveringsspecificatie</td>
        <td>S</td>
        <td>Werkzaamheden uitvragen</td>
    </tr>
</table>

Deze stappen zijn in het experiment overgeslagen.

### Stap 3


De revisiedataset wordt opgesteld binnen het experiment, waarbij een leiding vervalt, een nieuwe leiding en een nieuwe put worden geplaatst. Gemeente Utrecht stelt hiervan een fictieve revisietekening op en maakt hiervan een versie in een open geo-formaat voor CROW.

**Onderzoeksvragen**: 

1. CROW: valt de geo-revisietekening met behulp van de alignment NLCS-IMBOR te vertalen in IMBOR-instantiedata? 
2. CROW: Validatie dataset tegen IMBOR: (met SHACL): klopt de input, is er voldoende detail geleverd? Aanname: er wordt een SHACL gebruikt waarin alle IMBOR-attributen moeten zijn ingevuld, om het verschil te laten zien met de informatie die uit een NLCs-revisietekening kan komen. 
3. Gemeente Utrecht: hoe herken je in de revisietekening de identificaties van de bestaande objecten in het assetinformatiesysteem?
4. Gemeente Utrecht: welke automatische controles kunnen worden uitgevoerd op de revisietekening, om de beheerder te ontlasten? 
5. CROW: kunnen de objecten uit beide bronnen gematcht worden op basis van locatie? Zijn er verschillen?
6. Gemeente Utrecht: hoe herken je in de moedertekening de identificaties van de bestaande objecten in het assetinformatiesysteem?


### Stap 3 Mutaties identificeren

In een NLCS-revisietekening is van elk object de status bekend: 

* **B** Bestaande objecten: zijn niet gewijzigd tijdens het werk
* **V** Vervallen objecten: zijn vervallen tijdens het werk
* **R** Revisie objecten: zijn ofwel nieuw geplaatste objecten, ofwel bestaande objecten die een "bewerking" hebben ondergaan
* **T** Tijdelijke objecten: tijdelijk in het werk geplaatste objecten, denk aan een werkweg oid. De  status T komt in het experiment niet voor.
* **N** Ontwerp van nieuw te plaatsen objecten, ofwel bestaande objecten die een "bewerking" moeten ondergaan. De  status N komt in het experiment niet voor.


**Onderzoeksvragen**: 

1. CROW: Kan een lijst met mutaties worden gegenereerd op basis van de IMBOR-revisiedataset?
2. Gemeente Utrecht: ntb



