# Bouwen

Dit hoofdstuk beschrijft het bouwen: De ontwikkeling van modellen en inrichten van de experimenteeromgeving. 

<figure>
<img src="../images/bouwen.png" alt="visuele weergave van de paragraven die men kan verwachten in dit hoofdstuk">
<figcaption>De vragen bij het bouwen</figcaption>
</figure>


## Het experiment

Een deel van het ontworpen proces is gekozen als basis voor het experiment:

1. Stap 1. Aanleveren beheerinformatie voor het ontwerp
2. Stap 8 t/m 11 verwerken mutaties uit de revisie door beheerder

CROW onderzocht het gebruik van informatiemodellen, ontology alignments en andere open standaarden om dit proces te ondersteunen.
Gemeente Utrecht onderzocht of het beoogde proces kan kan worden ingericht voor productie, met focus op werken met leveringen van CAD-revisietekeningen


### Aanleveren beheerinformatie voor ontwerp


<table class="proces-tabel">
    <tr>
        <td>Inkomende informatie</td>
        <td></td>
        <td class="col-3-white">Processtap</td>
        <td></td>
        <td>Uitgaande informatie</td>
        <td>Rol</td>
        <td>Doel</td>
    </tr>
     <tr>
        <td>Assetinformatie van de beheerder op basis van IMBOR + grenzen projectgebied.<br><br>Dubbele administratie: Moedertekening in NLCS per bemalingsgebied.</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-blue">Aanleveren beheerinformatie</td>
        <td>&rarr;  <!-- → --></td>
        <td>NLCS-tekening van het rioleringgstelsel van het projectgebied met objectinformatie van beheerder</td>
        <td>B</td>
        <td>Bestaande situatie voor ontwerp <br></td>
    </tr>
</table>

De eerste stap, het aanleveren van de beheerinformatie voor het ontwerp, is in het experiment verder uitgewerkt en onderzocht in drie acties, zoals te zien in onderstaande figuur.

<figure>
<img src="../images/leveren-beheerinformatie.jpg" alt="visuele weergave van de drie stappen: 1. Selecteren projectgebied, 2. Controle volledigheid informatie, 3. Transformeren naar NLCS-tekening" width="100%"> 
<figcaption>De stappen voor levering beheerinformatie voor ontwerp</figcaption>
</figure>

#### Selecteren projectgebied
In eerste instantie werd een download uit het centrale assetinformatiesysteem gegenereerd van 600.000 objecten, zonder attributen.
Dit leidde meteen tot de vraag: hoe selecteer je alle bestaande assets in het projectgebied? Want een expert van alle assetinformatie is te veel om goed te kunnen opnemen in een tekening. De centrale assetregistratie van gemeente Utrecht kan via sparql-queries doorzocht worden. Dat is echter een techniek die niet meteen gebruikt kan worden door een beheerder of werkvoorbereider die informatie nodig heeft. De voorkeur heeft het om een projectgebied te kunnen aanwijzen, bijvoorbeeld als geo-object (kaartvlak), waarna de assetinformatie in dit projectgebied gebruikt kan worden.

#### Controle volledigheid informatie
Gemeente Utrecht heeft voor het experiment [deze dataset](https://github.com/Stichting-CROW/use-cases-door/blob/main/experimenten/utrecht/riolering-productie-nieuw.ttl) gehaald uit het centrale assetinformatiesysteem. De objecten hebben een geometrie hebben in geojson en een objectenpaspoort met informatie op basis van IMBOR, uitgedrukt in rdf.

Deze dataset in uitgedrukt in IMBOR 2022.

Deze dataset is tijdens het experiment gevalideerd op IMBOR 2022. Hiervoor heeft CROW een *CROW Datavalidator* in ontwikkeling, die op basis van een informatiemodel zoals IMBOR, of een specifieke dataspecificatie bovenop een informatiemodel, checkt of de geleverde gegevens voldoen aan de eis.


In het IMBOR model moet sommige informatie verplicht worden aangeleverd, maar lang niet alles. Het model is bedoeld als beschrijving van alle *mogelijke* informatie over een object, niet van alle *verplichte* informatie.

> nog navragen: welke onderdelen zijn verplicht? wat als er concepten in zitten die niet in imbor zijn uitgedrukt? wat als er attributen of relaties inzitten die niet in imbor zijn uitgedrukt? kortom, imbor en validatie beter beschrijven.


** bevindingen: ....
Zie het [validatierapport nog invoegen](....) voor alle bevindingen.


Gemeente Utrecht geeft aan, de eigen assetinformatie te willen controleren op basis van een "<b>Minimale dataset assetinformatie</b>", waarin meer informatie bij een object verplicht wordt gesteld dan in IMBOR. 

Dat levert vervolgens de vraag op: wil je altijd alle informatie meeleveren aan het project? In het ideale geval is de geleverde dataset beperkt tot de informatie die relevant is voor de ontwerper. Dit leidt tot de wens om te kunnen werken met een "<b>Minimale dataset ontwerp en realisatie</b>"



#### Tranformeren naar NLCS-tekening
Het projectteam kan niet overweg met assetinformatie in rdf, maar heeft een NLCS-tekening nodig van de bestaande situatie.

DOOR ontwikkelt de alignment van IMBOR naar de NLCS. De vraag is of deze alignment de basis kan zijn voor een automatische conversie van de assetinformatie naar de NLCS-tekening van de bestaande situatie. 



Daarna de vraag: kan de assetinformtie worden getransformeerd naar een voor CAD bruikbaar formaat? 




#### Kanttekening: tekenen van ontwerp tot revisie
De stappen 2 ontwerpen t/m 7 opleveren revivsie zijn in het experiment overgeslagen. Daarbij hoort de volgende kanttekening: <br><br>
In het beoogde proces wordt de beheerinformatie geleverd als een NLCS-tekening voor het project, in het experiment wordt in één keer overgestapt naar de oplevering van de revisietekening, zonder alle tussenstappen van ontwerp, bestekstekening en uitvoeringstekeningen die in een project gangbaar zijn. Dat betekent ook, dat het experiment niet kan onderzoeken welke impact het ontwerpen en opleveren op basis van beheerinformatie heeft op het werk van de ontwerper. Het "meenemen" van objectinformatie en identificatie terwijl een object in meerdere CAD-modellen kan voorkomen is geen triviale opgave. Dit wordt als grote kanttekening geplaatst door de expertcommissie van NLCS bij de oplossingen van zowel gemeente Utrecht als eerder de gemeente Dordrecht zoals beschreven in [Externe link: Verkenning uitwisseling informatie tussen project en beheer](https://docs.crow.nl/use-cases-door/project-beheer/).


### Stap 8 t/m 11 Verwerken mutaties door beheerder


 <table class="proces-tabel">
    <tr>
        <td>Inkomende informatie</td>
        <td></td>
        <td class="col-3-white">Processtap</td>
        <td></td>
        <td>Uitgaande informatie</td>
        <td>Rol</td>
        <td>Doel</td>
    </tr> 
    <tr>
        <td>Revisietekening</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-white">Moedertekening rioleringsstelsel bijwerken</td>
        <td>&rarr;  <!-- → --></td>
        <td>Bijgewerkte moedertekening</td>
        <td>B</td>
        <td>Beheerinformatie op orde<br>
</td>
    </tr>
    <tr><td></td></tr>
    <tr>
        <td>Revisietekening</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-white">Conversie cad-objecten naar geo-objecten</td>
        <td>&rarr;  <!-- → --></td>
        <td>Geo-objecten nieuwe situatie</td>
        <td>B</td>
        <td>Mutaties kunnen verwerken in gis-georienteerd beheersysteem</td>
    </tr>
       <tr><td></td></tr>
    <tr>
        <td>Revisietekening</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-white">Conversie revisie-informatie naar IMBOR-objectinformatie</td>
        <td>&rarr;  <!-- → --></td>
        <td>IMBOR-informatie nieuwe en gemuteerde objecten</td>
        <td>B</td>
        <td>Informatie conform assetinformatiesysteem</td>
    </tr>
       <tr><td></td></tr>
    <tr>
        <td>IMBOR-informatie revisie + assetinformatiesysteem</td>
        <td>&rarr;  <!-- → --></td>
        <td class="col-3-white">Detecteren mutaties en bijwerken assetinformatie</td>
        <td>&rarr;  <!-- → --></td>
        <td>Mutaties</td>
        <td>B</td>
        <td>Informatie in assetinformatiesysteem is dezelfde als in de moedertekening</td>
    </tr>
</table>

In het experiment wordt een revisietekening gebruikt vanuit een project van de gemeente Utrecht in de Lange Juffersatraat ([link](https://github.com/Stichting-CROW/use-cases-door/blob/main/experimenten/utrecht/250422-Revisie%20riolering-Lange%20Jufferstraat-Utrecht-A0.dwg)). 

#### Van tekening naar data?
De informatiemanagers van gemeente Utrecht hebben geprobeerd om assetinformatie geautomatiseerd uit de revisietekening te halen en liepen daarbij tegen de volgende zaken aan: 
* Alle putten staan op één laag, alle putnummers ook. Alleen op basis van nabijheid kan automatisch worden afgeleid welk nummer bij welke put hoort. Dit kan verkeerd gaan bij putten die dicht bij elkaar liggen. 
* De putnummer naam is opgebouwd uit de naam van de leidingen waar ze bij horen, maar dat gegeven is specifiek voor Utrecht en niet gestandaardiseerd. Deze informatie kan ook niet 100% zeker uit de tekening gehaald worden op basis van nabijheid. 
* De <abbr title="BovenOnderkantBuis">BOB</abbr>-hoogtes van de rioolleidingen, de hoogte van de bovenkant van de buis bij het begin- en eindpunt van de leiding, staan ook als losse teksten in de tekening waardoor fouten kunnen ontstaan bij het automatisch ophalen.
* Er staan "nieuwe" objecten in de tekening, die onderdeel blijken te zijn van de legenda. 
* Er staan nummers in de tekening die bij nader beschouwing relatieve afstanden blijken te zijn ten opzichte van het begin van leidingwaarop huisaansluitingen zijn aangesloten op de riooleiding. Deze informatie wordt door de beheerder niet opgeslagen en hoeft niet te worden gebruikt.
* De bestaande objecten op de tekening hebben geen id volgens het beheersysteem, ook niet de bestaande objecten waar tijdens het project werk aan is uitgevoerd. Het putnummer in een bestaande situatie heeft een uniek nummer dat in principe niet wijzigt in een CAD-tekening, maar van andere objecten staat dit niet standaard op tekening. Herkenning van mutaties aan bestaande objecten kan niet goed woren geautomatiseerd.

Hoe Utrecht nu werkt is de applicatie helpen de tekening te lezen, terwijl de revisietekening zou moeten worden opgebouwd uit een inmeting van de ligging van assets, gecombineerd met aanleginformatie over de gebruikte materialen en maten.

**Conclusie**: 
* De revisietekening kan niet geautomatiseerd worden omgezet naar objectinformatie. Het is logischer om een inmeetdataset te vragen met objectinformatie, die ook wordt weergegeven op een tekening.
* De unieke identificatie van een bestaand beheerobject moet kunnen worden gelinkt aan het object in de NLCS-tekening. Bij het inmeten en opstellen van de revisiedataset zal de mutatie aan een bestaand object moeten worden opgenomen. 

#### Conversie CAD-tekening naar GIS
De conversie van CAD naar GIS is uitgetest door gemeente Utrecht. Voor de punt- en lijnobjecten in de rioleringstekening lijt dit geen probleem te zijn. 

**Conclusie**: 
* In een revisie-dataset kunnen geo-objecten worden meegegeven vanuit CAD. Technisch gezien zijn hier geen belemmeringen voor. 


**Onderzoeksvragen**: 


2. CROW: Validatie dataset tegen IMBOR: (met SHACL): klopt de input, is er voldoende detail geleverd? Aanname: er wordt een SHACL gebruikt waarin alle IMBOR-attributen moeten zijn ingevuld, om het verschil te laten zien met de informatie die uit een NLCs-revisietekening kan komen. 
3. Gemeente Utrecht: hoe herken je in de revisietekening de identificaties van de bestaande objecten in het assetinformatiesysteem?
4. Gemeente Utrecht: welke automatische controles kunnen worden uitgevoerd op de revisietekening, om de beheerder te ontlasten? 
5. CROW: kunnen de objecten uit beide bronnen gematcht worden op basis van locatie? Zijn er verschillen?
6. Gemeente Utrecht: hoe herken je in de moedertekening de identificaties van de bestaande objecten in het assetinformatiesysteem?


### Stap 3 Mutaties identificeren

In een NLCS-revisietekening is van elk object de status bekend: 

* **B** Bestaande objecten: zijn niet gewijzigd tijdens het werk
* **V** Vervallen objecten: zijn vervallen tijdens het werk
* **R** Revisie objecten: zijn ofwel nieuw geplaatste objecten, ofwel bestaande objecten die een "bewerking" hebben ondergaan
* **T** Tijdelijke objecten: tijdelijk in het werk geplaatste objecten, denk aan een werkweg oid. De  status T komt in het experiment niet voor.
* **N** Ontwerp van nieuw te plaatsen objecten, ofwel bestaande objecten die een "bewerking" moeten ondergaan. De  status N komt in het experiment niet voor.


**Onderzoeksvragen**: 

1. CROW: Kan een lijst met mutaties worden gegenereerd op basis van de IMBOR-revisiedataset?
2. Gemeente Utrecht: ntb



